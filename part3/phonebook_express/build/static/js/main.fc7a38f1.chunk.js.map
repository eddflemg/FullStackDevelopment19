{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","person","persons","setPersons","name","number","value","onClick","event","window","confirm","target","personService","console","log","filter","Persons","newSearch","searching","setSearch","setSearching","searchResults","toLowerCase","includes","map","key","Form","numberChange","setErrorMessage","nameChange","setNote","note","newName","newNumber","setNewName","setNewNumber","onSubmit","preventDefault","some","find","changedPerson","setTimeout","catch","error","newPerson","concat","onChange","type","Search","searchChange","Notification","message","className","App","useState","setNewSearch","errorMessage","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fc7a38f1.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleting = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deleting }\r\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport './App.css'\n\nconst Person = ({person, persons, setPersons}) => {\n\n  const deleteFunc = event => {\n    if(window.confirm(`Delete ${person.name}`)) {\n      const id = event.target.value\n      personService\n        .deleting(id)\n        .then(response => {\n          console.log(id);\n          console.log(persons.filter(person => person.id != id));\n          setPersons(persons.filter(person => person.id != id))\n          console.log(persons);\n      })\n    }\n  }\n\n  return (\n    <div>\n      {person.name} {person.number}\n      <button value={person.id} onClick={deleteFunc} >Delete</button>\n    </div>\n  )\n}\n\nconst Persons = ({persons, newSearch, searching, setSearch, setSearching, setPersons}) => {\n\n  const searchResults = searching\n    ? persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase()))\n    : persons\n  //if (searching) setSearch('');\n  const rows = () => searchResults.map(\n    person => <Person person={person} setPersons={setPersons} persons={persons} key={person.name}/>\n  )\n\n  return(\n    <div>\n      <h2>Numbers</h2>\n      <div>{rows()}</div>\n    </div>\n  )\n}\n\nconst Form = ({numberChange, setErrorMessage, nameChange, persons, note, setNote, newName, newNumber, setPersons, setNewName, setNewNumber}) => {\n  const addEntry = event => {\n    event.preventDefault()\n    const contains = persons.some(person => person.name === newName)\n    if (contains) {\n      //alert(`${newName} is already added to the phonebook` )\n      if(window.confirm(`${newName} is already added to the phonebook. Should the number be replaced?`)) {\n        const person = persons.find(person => person.name === newName)\n        const changedPerson = { ...person, number: newNumber}\n        console.log(changedPerson);\n        console.log(changedPerson.id);\n        personService\n          .update(changedPerson.id, changedPerson)\n          .then(response => {\n            setPersons(persons.filter(person => person.name !== newName ? person : response))\n            setNote(\n              `${person.name} number is changed`\n            )\n            setTimeout(() => {\n              setNote(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Person ${person.name} was already removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            //setPersons(persons.filter(p => p.id !== changedPerson.id))\n          })\n      }\n    }\n    else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(newPerson)\n        .then(response => {\n          setPersons(persons.concat(newPerson))\n          setNewName('')\n          setNewNumber('')\n          setNote(\n            `${newPerson.name} is created`\n          )\n          setTimeout(() => {\n            setNote(null)\n          }, 5000)\n      })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  return(\n    <div>\n      <h2>add new contact</h2>\n      <form onSubmit={addEntry}>\n        <div>\n          name: <input value={newName} onChange={nameChange} />\n          <br />\n          number: <input value={newNumber} onChange={numberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nconst Search = ({searchChange, newSearch, searching, setSearching}) => {\n\n  const search = (event) => {\n    //setSearching(false)\n    event.preventDefault()\n    setSearching(true)\n  }\n\n  return (\n    <div>\n      <h2>Search</h2>\n      <form onSubmit={search}>\n        <div>\n          <input value={newSearch} onChange={searchChange} />\n        </div>\n        <div>\n          <button type=\"submit\">Search</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nconst Notification = ({message, note}) => {\n  if (message === null && note === null) {\n    return null\n  }\n  else if (message === null) {\n    return (\n      <div className=\"note\">\n        {note}\n      </div>\n    )\n  }\n  else {\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch] = useState('')\n  const [ errorMessage, setErrorMessage] = useState(null)\n  const [ note, setNote ] = useState(null)\n  const [ searching, setSearching] = useState(false)\n\n  const changeHandlerName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const changeHandlerNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const changeHandlerSearch = (event) => {\n    console.log(event.target.value)\n    setNewSearch(event.target.value)\n  }\n\n  useEffect(() =>\n    {\n      personService\n        .getAll()\n        .then(response => setPersons(response))\n    },\n  [])\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={errorMessage} note={note} />\n      <Search searchChange={changeHandlerSearch} newSearch={newSearch} setSearching={setSearching} searching={searching}/>\n      <Form setErrorMessage={setErrorMessage} setNote={setNote} note={note} nameChange={changeHandlerName} numberChange={changeHandlerNumber} persons={persons} newName={newName} newNumber={newNumber} setNewNumber={setNewNumber} setPersons={setPersons} setNewName={setNewName} />\n      <Persons persons={persons} setPersons={setPersons} setSearching={setSearching} setSearch={setNewSearch} newSearch={newSearch} searching={searching}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}